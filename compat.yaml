imports:
  - plugin.yaml

dsl_definitions:

  common_config: &common_config
    use_compact_node:
      description: This to indicate that this node is going to be converted to openstack version 3.0.0 node
      type: boolean
      default: true
    openstack_config:
      default: {}
    resource_id:
      default: ''


node_types:

  cloudify.openstack.nodes.Flavor:
    derived_from: cloudify.nodes.openstack.Flavor
    properties:
      <<: *common_config
      flavor:
        default: {}
      extra_specs:
        default: {}
      tenants:
        default: []

  cloudify.openstack.nodes.HostAggregate:
    derived_from: cloudify.nodes.openstack.HostAggregate
    properties:
      <<: *common_config
      aggregate:
        default: {}

  cloudify.openstack.nodes.Image:
    derived_from: cloudify.nodes.openstack.Image
    properties:
      <<: *common_config
      image:
        default: {}

  cloudify.openstack.nodes.KeyPair:
    derived_from: cloudify.nodes.openstack.KeyPair
    properties:
      <<: *common_config
      keypair:
        default: {}
      # Openstack 3.x.x does not support generating private key file, this property will be ignored
      private_key_path:
        type: string
        default: ''